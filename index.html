<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plastic-to-Fuel Interactive Flow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @keyframes flow {
            from { background-position: 0 0; }
            to { background-position: 40px 0; }
        }
        @keyframes pulse-glow {
            0% { transform: scale(1); box-shadow: 0 0 0px rgba(234, 179, 8, 0); }
            50% { transform: scale(1.05); box-shadow: 0 0 25px rgba(234, 179, 8, 0.7); }
            100% { transform: scale(1); box-shadow: 0 0 0px rgba(234, 179, 8, 0); }
        }
        @keyframes rotate-gear {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes gas-drift {
            0% { opacity: 0; transform: translateY(0) scale(0.5); }
            50% { opacity: 0.8; }
            100% { opacity: 0; transform: translateY(-30px) scale(1.3); }
        }
        .active-step {
            animation: pulse-glow 2s infinite ease-in-out;
            border-color: #eab308 !important;
        }
        .flow-line {
            background-image: linear-gradient(90deg, transparent 50%, #eab308 50%);
            background-size: 20px 100%;
            animation: flow 1s linear infinite;
        }
        .gear-rotate {
            animation: rotate-gear 3s linear infinite;
        }
        .gas-particle {
            animation: gas-drift 1.5s infinite;
        }
        body { background-color: #0a192f; color: white; overflow-x: hidden; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- SVG Icon Components ---
        const TrashIcon = () => (
            <svg className="w-10 h-10" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
        );
        const GearIcon = ({ animate }) => (
            <svg className={`w-10 h-10 ${animate ? 'gear-rotate' : ''}`} fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M12 15a3 3 0 100-6 3 3 0 000 6z"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 00 1.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 00 1.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 00 1.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/></svg>
        );
        const DropIcon = () => (
            <svg className="w-10 h-10" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M12 2.69l5.66 5.66a8 8 0 11-11.31 0z"/></svg>
        );
        const FuelIcon = () => (
            <svg className="w-10 h-10" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M3 22L15 22M4 9L14 9M14 2L14 22M4 2L4 9M9 22V12M18 5L22 5M18 9L22 9M18 13L22 13M19 16V22"/></svg>
        );

        const StepBox = ({ id, currentStep, title, subtitle, Icon, colorClass, animateIcon = false }) => (
            <div className={`flex flex-col items-center transition-all duration-700 ${currentStep === id ? 'scale-110' : 'opacity-40 grayscale'}`}>
                <div className={`w-20 h-20 md:w-24 md:h-24 rounded-2xl border-4 border-white/10 flex items-center justify-center bg-slate-800 ${colorClass} ${currentStep === id ? 'active-step' : ''}`}>
                    <Icon animate={animateIcon} />
                </div>
                <div className="mt-3 text-center">
                    <h4 className="font-black text-xs md:text-sm uppercase">{title}</h4>
                    <p className="text-[10px] text-blue-300 font-bold">{subtitle}</p>
                </div>
            </div>
        );

        const Pipe = ({ active }) => (
            <div className="flex-1 h-1.5 bg-slate-800 self-center mb-12 min-w-[30px] rounded-full overflow-hidden">
                {active && <div className="w-full h-full flow-line" />}
            </div>
        );

        const PlasticToFuelApp = () => {
            const [step, setStep] = useState(1);
            const [isPlaying, setIsPlaying] = useState(true);

            const descriptions = [
                "Step 1: Raw plastic waste is collected and sorted.",
                "Step 2: Plastic is shredded into small, uniform flakes.",
                "Step 3: Microwaves heat plastic to 900°F+, turning it into gas.",
                "Step 4: The vapor is cooled and condensed into liquid form.",
                "Step 5: High-grade Diesel and Naphtha are ready for use!"
            ];

            useEffect(() => {
                let interval;
                if (isPlaying) {
                    interval = setInterval(() => {
                        setStep(prev => (prev < 5 ? prev + 1 : 1));
                    }, 3000);
                }
                return () => clearInterval(interval);
            }, [isPlaying]);

            return (
                <div className="min-h-screen flex flex-col items-center justify-center p-6">
                    <h1 className="text-4xl md:text-6xl font-black italic mb-16 text-center tracking-tighter uppercase">
                        Plastic-to-Fuel: <span className="text-yellow-500">Step to Fuel!</span>
                    </h1>

                    <div className="w-full max-w-6xl bg-slate-900/50 p-10 rounded-[3rem] border border-white/5 shadow-2xl relative">
                        <div className="flex flex-col lg:flex-row justify-between items-start gap-4">
                            
                            <StepBox id={1} currentStep={step} title="Waste" subtitle="Dirty Plastic" Icon={TrashIcon} colorClass="bg-green-600" />
                            <Pipe active={step >= 1} />
                            
                            <StepBox id={2} currentStep={step} title="Shredder" subtitle="Chops Small" Icon={GearIcon} animateIcon={step === 2} colorClass="bg-gray-600" />
                            <Pipe active={step >= 2} />

                            <div className="flex flex-col items-center">
                                <div className={`w-28 h-28 md:w-32 md:h-32 rounded-full border-8 border-orange-600/20 flex items-center justify-center relative ${step === 3 ? 'active-step' : 'opacity-40'}`}>
                                    <span className="text-orange-500 font-black text-xl">900°F+</span>
                                    {step === 3 && (
                                        <div className="absolute -top-8 flex space-x-1">
                                            {[1,2,3].map(i => <div key={i} className="gas-particle w-2 h-2 bg-blue-300 rounded-full" style={{animationDelay: `${i*0.3}s`}} />)}
                                        </div>
                                    )}
                                </div>
                                <h4 className="mt-3 font-black text-xs uppercase">Reactor</h4>
                            </div>

                            <Pipe active={step >= 3} />
                            
                            <StepBox id={4} currentStep={step} title="Cool Gas" subtitle="Condensation" Icon={DropIcon} colorClass="bg-blue-600" />
                            <Pipe active={step >= 4} />

                            <StepBox id={5} currentStep={step} title="Liquid Fuel" subtitle="Ready for Trucks" Icon={FuelIcon} colorClass="bg-emerald-700" />
                        </div>
                    </div>

                    <div className="mt-12 bg-slate-800 p-8 rounded-3xl border-b-8 border-yellow-500 w-full max-w-2xl shadow-2xl">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl font-black uppercase text-yellow-500 tracking-tight">System Status</h2>
                            <div className="flex space-x-2">
                                <button onClick={() => setStep(s => s > 1 ? s - 1 : 5)} className="px-4 py-2 bg-slate-700 rounded-xl font-bold hover:bg-slate-600">Prev</button>
                                <button onClick={() => setIsPlaying(!isPlaying)} className="px-8 py-2 bg-yellow-500 text-black rounded-xl font-black hover:bg-yellow-400">
                                    {isPlaying ? "PAUSE" : "PLAY"}
                                </button>
                                <button onClick={() => setStep(s => s < 5 ? s + 1 : 1)} className="px-4 py-2 bg-slate-700 rounded-xl font-bold hover:bg-slate-600">Next</button>
                            </div>
                        </div>
                        <p className="text-blue-200 text-lg font-medium italic">"{descriptions[step-1]}"</p>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PlasticToFuelApp />);
    </script>
</body>
</html>
